@import 'lib/variables';
@import 'lib/icons';

.form-group {
  .toggle-visibility {
    .glyphicon-after-password {
      @extend .icon-show;
    }
  }
  .hide-toggle-visibility {
    .glyphicon-after-password {
      @extend .icon-hide;
    }
  }

  &.none {

    .glyphicon {
      &.glyphicon-before-password {
        @extend .icon-none;
      }
    }
  }

  &.veryWeak {

    .meter > div {
      background-color: $veryWeak-background-color;
      border-color: $veryWeak-border-color;
    }
    .background-meter .meter > div {
      width: 25%;
    }

    .glyphicon {
      color: #F04040;
      &.glyphicon-before-password {
        @extend .icon-veryWeak;
      }
    }
  }

  &.weak {
    .meter > div {
      background-color: $weak-background-color;
      border-color: $weak-border-color;
    }
    .background-meter .meter > div {
      width: 50%;
    }
    .glyphicon {
      color: #FF853C;
      &.glyphicon-before-password {
        @extend .icon-weak;
      }
    }
  }

  &.medium {
    .meter > div {
      background-color: $medium-background-color;
      border-color: $medium-border-color;
    }
    .background-meter .meter > div {
      width: 75%;
    }
    .glyphicon {
      color: #F5A623;
      &.glyphicon-before-password {
        @extend .icon-medium;
      }
    }
  }

  &.strong {
    .meter > div {
      background-color: $strong-background-color;
      border-color: $strong-border-color;
    }
    .background-meter .meter > div {
      width: 100%;
    }
    .glyphicon {
      color: #65B913;
      &.glyphicon-before-password {
        @extend .icon-strong;
      }
    }
  }
}

.meter {
  display: inline-block;
  background: silver;

  & > div {
    text-align: center;
    color: black;
    font-weight: bold;
    border: 1px solid white;
  }
}

// background-meter wraps an input, mirrors just behind it via dynamic js discovery of styles
.background-meter {
  input {
    z-index: 1;
    background: transparent !important;

    // adding the meter after the input doesn't trigger the input-group-addon style for border, just override it here
    // TODO: not quite working right when allowShow: false - right side border radius incorrect.  try to restructure
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
  }

  .meter {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 0;
    //    border-radius: 3px;
    background-color: #fff;

    & > div {
      height: 100%;
      text-indent: -9999em;
      border: none;
      -webkit-transition: all .3s ease-in-out;
      -moz-transition: all .3s ease-in-out;
      transition: all .3s ease-in-out;
    }
  }
}